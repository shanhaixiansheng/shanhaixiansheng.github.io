<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>工业机器人查询助手</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>工业机器人查询助手</h1>
            <p>支持主流工业品牌报警代码和系统变量查询</p>
            <p class="disclaimer">所有资料仅供参考，实际以机器人具体型号为主</p>
        </div>
    </header>
    
    <main>
        <section class="search-section">
            <div class="container">
                <div class="tabs">
                    <button class="tab-btn active" data-tab="alarm">报警代码查询</button>
                    <button class="tab-btn" data-tab="variable">系统变量查询</button>
                </div>
                
                <div class="brand-selector">
                    <label for="brand">选择品牌:</label>
                    <select id="brand">
                        <option value="fanuc">FANUC</option>
                        <option value="kuka">KUKA</option>
                        <option value="abb">ABB</option>
                        <option value="yaskawa">Yaskawa</option>
                    </select>
                </div>
                
                <div class="search-box">
                    <div class="search-type">
                        <label>
                            <input type="radio" name="searchType" value="exact" checked> 精确匹配
                        </label>
                        <label>
                            <input type="radio" name="searchType" value="fuzzy"> 模糊匹配
                        </label>
                    </div>
                    <input type="text" id="searchInput" placeholder="输入报警代码或关键字...">
                    <button id="searchBtn">搜索</button>
                </div>
                
                
            </div>
        </section>
        
        <section class="results-section hidden" id="resultsSection">
            <div class="container">
                <div id="loadingIndicator" class="hidden">加载中...</div>
                <div id="noResults" class="hidden">未找到匹配的结果</div>
                <div id="searchResults"></div>
            </div>
        </section>
        
        <section class="comments-section hidden" id="commentsSection">
            <div class="container">
                <h3>用户评论</h3>
                <div class="github-setup-note">
                    <p><strong>管理员设置指南：</strong></p>
                    <p>1. 访问 <a href="https://github.com/shanhaixiansheng/robot/issues" target="_blank">GitHub Issues</a></p>
                    <p>2. 创建Issue #1 用于存储用户评论</p>
                    <p>3. 创建Issue #2 用于存储统计数据（格式：{"viewCount": 100, "searchCount": 50}）</p>
                    <p>完成设置后，评论和统计数据将自动同步</p>
                </div>
                <div class="comment-stats">
                    <span>总浏览量: <span id="viewCount">0</span></span>
                    <span>总查询次数: <span id="searchCount">0</span></span>
                    <p class="data-sharing-note">※ 评论和统计数据通过GitHub实现共享</p>
                    <div id="syncStatus" class="sync-status">正在同步数据...</div>
                </div>
                <div class="comment-form">
                    <div class="form-group">
                        <label for="userName">昵称:</label>
                        <input type="text" id="userName" placeholder="请输入您的昵称">
                    </div>
                    <div class="form-group">
                        <label for="userProvince">省份:</label>
                        <input type="text" id="userProvince" readonly placeholder="自动获取省份">
                    </div>
                    <div class="form-group">
                        <label for="userComment">评论内容:</label>
                        <textarea id="userComment" placeholder="请输入您的评论..."></textarea>
                    </div>
                    <button id="submitComment">提交评论</button>
                </div>
                <div class="comments-list">
                    <h4>所有评论</h4>
                    <div id="commentsList"></div>
                </div>
            </div>
        </section>
        
        <section class="admin-section hidden" id="adminSection">
            <div class="container">
                <h3>管理员登录</h3>
                <div class="admin-login">
                    <input type="password" id="adminPassword" placeholder="请输入管理员密码">
                    <button id="adminLoginBtn">登录</button>
                </div>
            </div>
        </section>
        
        <section class="data-info hidden" id="dataInfo">
            <div class="container">
                <h3>数据库信息</h3>
                <div class="data-stats">
                    <div class="stat-item">
                        <h4>FANUC</h4>
                        <p>报警代码: <span id="fanuc-alarm-count">0</span> 条</p>
                        <p>系统变量: <span id="fanuc-variable-count">0</span> 条</p>
                    </div>
                    <div class="stat-item">
                        <h4>KUKA</h4>
                        <p>报警代码: <span id="kuka-alarm-count">0</span> 条</p>
                        <p>系统变量: <span id="kuka-variable-count">0</span> 条</p>
                    </div>
                    <div class="stat-item">
                        <h4>ABB</h4>
                        <p>报警代码: <span id="abb-alarm-count">0</span> 条</p>
                        <p>系统变量: <span id="abb-variable-count">0</span> 条</p>
                    </div>
                    <div class="stat-item">
                        <h4>Yaskawa</h4>
                        <p>报警代码: <span id="yaskawa-alarm-count">0</span> 条</p>
                        <p>系统变量: <span id="yaskawa-variable-count">0</span> 条</p>
                    </div>
                </div>
                <div class="update-info">
                    <p>最后更新时间: <span id="lastUpdate">--</span></p>
                    <button id="logoutBtn">退出登录</button>
                </div>
            </div>
        </section>
    </main>
    
    <footer>
        <div class="container">
            <p>© 2025 工业机器人查询助手 - 由Life开发</p>
            <button id="showCommentsBtn" class="footer-btn">查看/发表评论</button>
            <span id="footerStats" class="footer-stats">浏览: <span id="footerViewCount">0</span> | 查询: <span id="footerSearchCount">0</span></span>
        </div>
    </footer>
    
    <script src="app.js"></script>
</body>
</html>